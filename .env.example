# ===========================================
# Tickasting Environment Variables
# Copy this file to .env and fill in values
# ===========================================

# -------------------------------------------
# Core (API + Indexer + Web)
# -------------------------------------------

# PostgreSQL (required)
DATABASE_URL=postgresql://tickasting:tickasting@localhost:5433/tickasting?schema=public

# API server
API_HOST=0.0.0.0
API_PORT=4001
WS_BROADCAST_INTERVAL_MS=2000

# Ticket scanner signing key (change in production)
TICKET_SECRET=dev-ticket-secret-change-in-prod

# Claim data source switch in API
# false: legacy/local table path
# true: read on-chain claim data from Ponder tables
USE_PONDER_DATA=false
PONDER_SCHEMA=public

# Indexer (Kaspa scanner)
INDEXER_PORT=4002
INDEXER_POLL_INTERVAL_MS=5000
KASPA_NETWORK=testnet
# Kas.fyi API key: https://docs.kas.fyi/ -> Sign In -> Dashboard -> API Keys
KASFYI_API_KEY=
# Keep base URL on api.kas.fyi (adapter adds /v1 prefix internally)
KASFYI_BASE_URL=https://api.kas.fyi

# Web (Next.js public runtime vars)
NEXT_PUBLIC_API_URL=http://localhost:4001
NEXT_PUBLIC_WS_URL=ws://localhost:4001

# Payment config
PAYMENT_CURRENCY=USDC
PAYMENT_TOKEN_ADDRESS=0x593Cd4124ffE9D11B3114259fbC170a5759E0f54
PAYMENT_CHAIN=kasplex-testnet

# -------------------------------------------
# Ponder (EVM claim indexing)
# -------------------------------------------

PONDER_RPC_URL_167012=https://rpc.kasplextest.xyz
# Backward-compatible fallback (deprecated)
PONDER_RPC_URL_11155111=
TICKASTING_CONTRACT_ADDRESS=
TICKASTING_START_BLOCK=0

# -------------------------------------------
# Contracts (optional, for deploy/verify)
# -------------------------------------------

CONTRACT_RPC_URL=https://rpc.kasplextest.xyz
DEPLOYER_PRIVATE_KEY=
ETHERSCAN_API_KEY=
