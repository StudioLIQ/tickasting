# ===========================================
# Tickasting Environment Variables
# Copy this file to .env and fill in values
# ===========================================

# -------------------------------------------
# Core (API + Ponder + Web)
# -------------------------------------------

# PostgreSQL (required)
DATABASE_URL=postgresql://tickasting:tickasting@localhost:5433/tickasting?schema=public

# API server
API_HOST=0.0.0.0
# API_PORT is used for local runs. In container platforms, PORT is also supported.
API_PORT=4001
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,https://tickasting.studioliq.com
WS_BROADCAST_INTERVAL_MS=2000

# Ticket scanner signing key (change in production)
TICKET_SECRET=dev-ticket-secret-change-in-prod

# Claim data source switch in API
# false: legacy/local table path
# true: read on-chain claim data from Ponder tables
USE_PONDER_DATA=true
PONDER_SCHEMA=public

# Purchase mode
# evm: on-chain EVM Transfer ordering (recommended)
PURCHASE_MODE=evm

# Web (Next.js public runtime vars)
NEXT_PUBLIC_API_URL=http://localhost:4001
NEXT_PUBLIC_WS_URL=ws://localhost:4001
NEXT_PUBLIC_EVM_EXPLORER_URL=https://explorer.testnet.kasplextest.xyz
NEXT_PUBLIC_PAYMENT_TOKEN_ADDRESS=0x593Cd4124ffE9D11B3114259fbC170a5759E0f54
NEXT_PUBLIC_PAYMENT_TOKEN_SYMBOL=USDC
NEXT_PUBLIC_PAYMENT_TOKEN_DECIMALS=6
NEXT_PUBLIC_KASPLEX_CHAIN_ID=167012

# Vercel Production (apps/web root directory)
# NEXT_PUBLIC_API_URL=https://api-tickasting.studioliq.com
# NEXT_PUBLIC_WS_URL=wss://api-tickasting.studioliq.com

# Payment config
PAYMENT_CURRENCY=USDC
PAYMENT_TOKEN_ADDRESS=0x593Cd4124ffE9D11B3114259fbC170a5759E0f54
PAYMENT_CHAIN=kasplex-testnet

# -------------------------------------------
# Ponder (EVM claim indexing)
# -------------------------------------------

DATABASE_SCHEMA=public
PONDER_RPC_URL_167012=https://rpc.kasplextest.xyz
USDC_TRANSFER_START_BLOCK=0
TICKASTING_CONTRACT_ADDRESS=
TICKASTING_START_BLOCK=0

# -------------------------------------------
# Contracts (optional, for deploy/verify)
# -------------------------------------------

CONTRACT_RPC_URL=https://rpc.kasplextest.xyz
DEPLOYER_PRIVATE_KEY=
